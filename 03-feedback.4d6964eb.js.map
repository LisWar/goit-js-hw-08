{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,mBAkCpC,SAAsBC,GAClB,IACI,MAAMC,EAWd,SAAcD,GACV,IACI,MAAME,EAAkBC,aAAaC,QAAQJ,GAC7C,OAA2B,OAApBE,OAA2BG,EAAYC,KAAKC,MAAML,E,CAC3D,MAAOM,GACLC,QAAQC,IAAIF,E,EAhBCG,CAAKX,GAClBS,QAAQC,IAAI,SAAUT,GAEtBJ,EAAKe,MAAMC,MAAQZ,EAAKW,MACxBf,EAAKiB,QAAQD,MAAQZ,EAAKa,O,CAC5B,MAAON,GAEL,YADAC,QAAQC,IAAI,UAAWF,E,EAvC/BO,CAFmB,uBAInBlB,EAAKmB,iBAAiB,QAASrB,EAAAsB,UAAW,SAASC,GAC/CT,QAAQC,IAAI,MAAOQ,EAAEC,eAUzB,SAAqBD,GAEjB,MAAOE,UAAUR,MAAEA,EAAKE,QAAEA,IAAaI,EAAEC,cACnClB,EAAO,CAACW,MAASA,EAAMC,MAAOC,QAAWA,EAAQD,MAAMQ,SAqCjE,SAAcrB,EAAKC,GACf,IACI,MAAMqB,EAAiBhB,KAAKiB,UAAUtB,GACtCE,aAAaqB,QAAQxB,EAAKsB,E,CAC5B,MAAOd,GACLC,QAAQC,IAAIF,E,EAxChBiB,CApBe,sBAoBExB,E,CAdjByB,CAAYR,E,GACT,MACPrB,EAAKmB,iBAAiB,UAetB,SAAsBE,GAClBA,EAAES,iBACF,MAAOP,UAAUR,MAAEA,EAAKE,QAAEA,IAAaI,EAAEC,cAEzCV,QAAQC,IAAIP,aAAaC,QA3BV,wBA4BfD,aAAayB,WA5BE,uBA6BfhB,EAAMC,MAAQ,GACdC,EAAQD,MAAQ,E,IAnBpBJ,QAAQC,IAAI,qCAAsCP,aAAaC,QAX5C","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('lodash');\n\nconst form = document.querySelector(\".feedback-form\");\nconst storageKey = \"feedback-form-state\";\n\nupdateOutput(storageKey);\n\nform.addEventListener(\"input\", _.throttle(function(e) {\n    console.log('e: ', e.currentTarget);\n    handleInput(e)\n    }, 500));\nform.addEventListener(\"submit\", handleSubmit);\n\n\nconsole.log('localStorage.getItem(storageKey): ', localStorage.getItem(storageKey));\n\n\n\nfunction handleInput(e) {\n\n    const {elements: { email, message }} = e.currentTarget;\n    const data = {\"email\": email.value, \"message\": message.value.trim()};\n\n    save(storageKey, data);\n}\n\nfunction handleSubmit(e) {\n    e.preventDefault()\n    const {elements: { email, message }} = e.currentTarget;\n\n    console.log(localStorage.getItem(storageKey));   \n    localStorage.removeItem(storageKey);\n    email.value = \"\";\n    message.value = \"\";\n}\n\nfunction updateOutput(key) {\n    try {\n        const data = load(key);\n        console.log('data: ', data);\n\n        form.email.value = data.email;\n        form.message.value = data.message;\n    } catch (error) {\n        console.log('error: ', error);\n        return;\n    }\n}\n\nfunction load(key) {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.log(error);\n    }\n}\n  \nfunction save(key, data) {\n    try {\n        const serializedData = JSON.stringify(data);\n        localStorage.setItem(key, serializedData);\n    } catch (error) {\n        console.log(error);\n    }\n}"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","key","data","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","log","$945622fd0f572e60$var$load","email","value","message","$945622fd0f572e60$var$updateOutput","addEventListener","throttle","e","currentTarget","elements","trim","serializedData","stringify","setItem","$945622fd0f572e60$var$save","$945622fd0f572e60$var$handleInput","preventDefault","removeItem"],"version":3,"file":"03-feedback.4d6964eb.js.map"}