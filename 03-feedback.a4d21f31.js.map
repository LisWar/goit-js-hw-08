{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAa,uBAiCnB,SAAsBC,GAClB,IACI,IAAMC,EAWd,SAAcD,GACV,IACI,IAAME,EAAkBC,aAAaC,QAAQJ,GAC7C,OAA2B,OAApBE,OAA2BG,EAAYC,KAAKC,MAAML,E,CAC3D,MAAOM,GACLC,QAAQC,IAAIF,E,EAhBCG,CAAKX,GAClBS,QAAQC,IAAI,SAAUT,GAEtBL,EAAKgB,MAAMC,MAAQZ,EAAKW,MACxBhB,EAAKkB,QAAQD,MAAQZ,EAAKa,O,CAC5B,MAAON,GAEL,YADAC,QAAQC,IAAI,UAAWF,E,EAvC/BO,CAAahB,GAEbH,EAAKoB,iBAAiB,QAAStB,EAAAuB,UAAW,SAASC,GAC/CT,QAAQC,IAAI,MAAOQ,EAAEC,eAUzB,SAAqBD,GAEjB,IAAsDE,EAAfF,EAAEC,cAAlCE,SAAYT,EAAKQ,EAALR,MAAOE,EAAOM,EAAPN,QACpBb,EAAO,CAACW,MAASA,EAAMC,MAAOC,QAAWA,EAAQD,MAAMS,SAqCjE,SAActB,EAAKC,GACf,IACI,IAAMsB,EAAiBjB,KAAKkB,UAAUvB,GACtCE,aAAasB,QAAQzB,EAAKuB,E,CAC5B,MAAOf,GACLC,QAAQC,IAAIF,E,EAxChBkB,CAAK3B,EAAYE,E,CAdjB0B,CAAYT,E,GACT,MACPtB,EAAKoB,iBAAiB,UAetB,SAAsBE,GAClBA,EAAEU,iBACF,IAAsDR,EAAfF,EAAEC,cAAlCE,SAAYT,EAAKQ,EAALR,MAAOE,EAAOM,EAAPN,QAE1BL,QAAQC,IAAIP,aAAaC,QAAQL,IACjCI,aAAa0B,WAAW9B,GACxBa,EAAMC,MAAQ,GACdC,EAAQD,MAAQ,E,IAnBpBJ,QAAQC,IAAI,qCAAsCP,aAAaC,QAAQL,G","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('lodash');\n\nconst form = document.querySelector(\".feedback-form\");\nconst storageKey = \"feedback-form-state\";\n\nupdateOutput(storageKey);\n\nform.addEventListener(\"input\", _.throttle(function(e) {\n    console.log('e: ', e.currentTarget);\n    handleInput(e)\n    }, 500));\nform.addEventListener(\"submit\", handleSubmit);\n\n\nconsole.log('localStorage.getItem(storageKey): ', localStorage.getItem(storageKey));\n\n\n\nfunction handleInput(e) {\n\n    const {elements: { email, message }} = e.currentTarget;\n    const data = {\"email\": email.value, \"message\": message.value.trim()};\n\n    save(storageKey, data);\n}\n\nfunction handleSubmit(e) {\n    e.preventDefault()\n    const {elements: { email, message }} = e.currentTarget;\n\n    console.log(localStorage.getItem(storageKey));   \n    localStorage.removeItem(storageKey);\n    email.value = \"\";\n    message.value = \"\";\n}\n\nfunction updateOutput(key) {\n    try {\n        const data = load(key);\n        console.log('data: ', data);\n\n        form.email.value = data.email;\n        form.message.value = data.message;\n    } catch (error) {\n        console.log('error: ', error);\n        return;\n    }\n}\n\nfunction load(key) {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.log(error);\n    }\n}\n  \nfunction save(key, data) {\n    try {\n        const serializedData = JSON.stringify(data);\n        localStorage.setItem(key, serializedData);\n    } catch (error) {\n        console.log(error);\n    }\n}"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$storageKey","key","data","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","log","$b00c40859be242c5$var$load","email","value","message","$b00c40859be242c5$var$updateOutput","addEventListener","throttle","e","currentTarget","_elements","elements","trim","serializedData","stringify","setItem","$b00c40859be242c5$var$save","$b00c40859be242c5$var$handleInput","preventDefault","removeItem"],"version":3,"file":"03-feedback.a4d21f31.js.map"}