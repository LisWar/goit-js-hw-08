{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,mBAiCpC,SAAsBC,GAClB,IACI,MAAMC,EAWd,SAAcD,GACV,IACI,MAAME,EAAkBC,aAAaC,QAAQJ,GAC7C,OAA2B,OAApBE,OAA2BG,EAAYC,KAAKC,MAAML,E,CAC3D,MAAOM,GACLC,QAAQC,IAAIF,E,EAhBCG,CAAKX,GAClBS,QAAQC,IAAI,SAAUT,GAEtBJ,EAAKe,MAAMC,MAAQZ,EAAKW,MACxBf,EAAKiB,QAAQD,MAAQZ,EAAKa,O,CAC5B,MAAON,GAEL,YADAC,QAAQC,IAAI,UAAWF,E,EAtC/BO,CAFmB,uBAInBlB,EAAKmB,iBAAiB,QAASrB,EAAAsB,UAAW,SAASC,IAUnD,SAAqBA,GACjB,MAAMjB,EAAO,CAACW,MAASf,EAAKsB,SAASP,MAAMC,MAAOC,QAAWjB,EAAKsB,SAASL,QAAQD,MAAMO,SAuC7F,SAAcpB,EAAKC,GACf,IACI,MAAMoB,EAAiBf,KAAKgB,UAAUrB,GACtCE,aAAaoB,QAAQvB,EAAKqB,E,CAC5B,MAAOb,GACLC,QAAQC,IAAIF,E,EA1ChBgB,CAjBe,sBAiBEvB,E,CAZjBwB,E,GACG,MACP5B,EAAKmB,iBAAiB,UAatB,SAAsBE,GAClBA,EAAEQ,iBACF,MAAOP,UAAUP,MAAEA,EAAKE,QAAEA,IAAaI,EAAES,cAEzC,GAAmB,IAAff,EAAMC,OAAgC,IAAjBC,EAAQD,MAE7B,YADAe,MAAM,wCAGVhB,EAAMC,MAAQ,GACdC,EAAQD,MAAQ,E,IAnBpBJ,QAAQC,IAAI,qCAAsCP,aAAaC,QAV5C","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('lodash');\n\nconst form = document.querySelector(\".feedback-form\");\nconst storageKey = \"feedback-form-state\";\n\nupdateOutput(storageKey);\n\nform.addEventListener(\"input\", _.throttle(function(e) {\n    handleInput(e)\n    }, 500));\nform.addEventListener(\"submit\", handleSubmit);\n\n\nconsole.log('localStorage.getItem(storageKey): ', localStorage.getItem(storageKey));\n\n\n\nfunction handleInput(e) {\n    const data = {\"email\": form.elements.email.value, \"message\": form.elements.message.value.trim()};\n\n    save(storageKey, data);\n}\n\nfunction handleSubmit(e) {\n    e.preventDefault()\n    const {elements: { email, message }} = e.currentTarget;\n\n    if (email.value == \"\" || message.value == \"\") {\n        alert(\"Заповніть обидва поля перед подачею.\")\n        return;\n    }\n    email.value = \"\";\n    message.value = \"\";\n}\n\nfunction updateOutput(key) {\n    try {\n        const data = load(key);\n        console.log('data: ', data);\n\n        form.email.value = data.email;\n        form.message.value = data.message;\n    } catch (error) {\n        console.log('error: ', error);\n        return;\n    }\n}\n\nfunction load(key) {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.log(error);\n    }\n}\n  \nfunction save(key, data) {\n    try {\n        const serializedData = JSON.stringify(data);\n        localStorage.setItem(key, serializedData);\n    } catch (error) {\n        console.log(error);\n    }\n}"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","key","data","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","log","$945622fd0f572e60$var$load","email","value","message","$945622fd0f572e60$var$updateOutput","addEventListener","throttle","e","elements","trim","serializedData","stringify","setItem","$945622fd0f572e60$var$save","$945622fd0f572e60$var$handleInput","preventDefault","currentTarget","alert"],"version":3,"file":"03-feedback.c25b5279.js.map"}