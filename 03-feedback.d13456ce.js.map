{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAa,uBAgCnB,SAAsBC,GAClB,IACI,IAAMC,EAWd,SAAcD,GACV,IACI,IAAME,EAAkBC,aAAaC,QAAQJ,GAC7C,OAA2B,OAApBE,OAA2BG,EAAYC,KAAKC,MAAML,E,CAC3D,MAAOM,GACLC,QAAQC,IAAIF,E,EAhBCG,CAAKX,GAClBS,QAAQC,IAAI,SAAUT,GAEtBL,EAAKgB,MAAMC,MAAQZ,EAAKW,MACxBhB,EAAKkB,QAAQD,MAAQZ,EAAKa,O,CAC5B,MAAON,GAEL,YADAC,QAAQC,IAAI,UAAWF,E,EAtC/BO,CAAahB,GAEbH,EAAKoB,iBAAiB,QAAStB,EAAAuB,UAAW,SAASC,GAUnD,IACUjB,IAAO,CAACW,MAAShB,EAAKuB,SAASP,MAAMC,MAAOC,QAAWlB,EAAKuB,SAASL,QAAQD,MAAMO,QAuC7F,SAAcpB,EAAKC,GACf,IACI,IAAMoB,EAAiBf,KAAKgB,UAAUrB,GACtCE,aAAaoB,QAAQvB,EAAKqB,E,CAC5B,MAAOb,GACLC,QAAQC,IAAIF,E,EA1ChBgB,CAAKzB,EAAYE,E,GAXd,MACPL,EAAKoB,iBAAiB,UAatB,SAAsBE,GAClBA,EAAEO,iBACF,IAAsDC,EAAfR,EAAES,cAAlCR,SAAYP,EAAKc,EAALd,MAAOE,EAAOY,EAAPZ,QAE1B,GAAmB,IAAfF,EAAMC,OAAgC,IAAjBC,EAAQD,MAE7B,YADAe,MAAM,wCAGVhB,EAAMC,MAAQ,GACdC,EAAQD,MAAQ,E,IAnBpBJ,QAAQC,IAAI,qCAAsCP,aAAaC,QAAQL,G","sources":["src/js/03-feedback.js"],"sourcesContent":["const _ = require('lodash');\n\nconst form = document.querySelector(\".feedback-form\");\nconst storageKey = \"feedback-form-state\";\n\nupdateOutput(storageKey);\n\nform.addEventListener(\"input\", _.throttle(function(e) {\n    handleInput(e)\n    }, 500));\nform.addEventListener(\"submit\", handleSubmit);\n\n\nconsole.log('localStorage.getItem(storageKey): ', localStorage.getItem(storageKey));\n\n\n\nfunction handleInput(e) {\n    const data = {\"email\": form.elements.email.value, \"message\": form.elements.message.value.trim()};\n\n    save(storageKey, data);\n}\n\nfunction handleSubmit(e) {\n    e.preventDefault()\n    const {elements: { email, message }} = e.currentTarget;\n\n    if (email.value == \"\" || message.value == \"\") {\n        alert(\"Заповніть обидва поля перед подачею.\")\n        return;\n    }\n    email.value = \"\";\n    message.value = \"\";\n}\n\nfunction updateOutput(key) {\n    try {\n        const data = load(key);\n        console.log('data: ', data);\n\n        form.email.value = data.email;\n        form.message.value = data.message;\n    } catch (error) {\n        console.log('error: ', error);\n        return;\n    }\n}\n\nfunction load(key) {\n    try {\n        const serializedState = localStorage.getItem(key);\n        return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n        console.log(error);\n    }\n}\n  \nfunction save(key, data) {\n    try {\n        const serializedData = JSON.stringify(data);\n        localStorage.setItem(key, serializedData);\n    } catch (error) {\n        console.log(error);\n    }\n}"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$storageKey","key","data","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","log","$b00c40859be242c5$var$load","email","value","message","$b00c40859be242c5$var$updateOutput","addEventListener","throttle","e","elements","trim","serializedData","stringify","setItem","$b00c40859be242c5$var$save","preventDefault","_elements","currentTarget","alert"],"version":3,"file":"03-feedback.d13456ce.js.map"}